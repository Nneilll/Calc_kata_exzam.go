package main

import (
	"fmt"
	"math"
)

// Функция для вычисления факториала числа
func factorial(n int) int {
	if n == 0 {
		return 1 // Факториал 0 равен 1
	}
	result := 1
	for i := 2; i <= n; i++ {
		result *= i // Умножаем результат на текущее значение i
	}
	return result
}

func main() {
	var a, b float64 // Переменные для хранения чисел
	var op string    // Переменная для хранения операции

	fmt.Println("Введите операцию (+, -, *, /, ^, !):") // Запрос операции у пользователя
	fmt.Scan(&op) // Считывание операции

	switch op {
	case "+":
		fmt.Println("Введите два числа:") // Запрос двух чисел для сложения
		fmt.Scan(&a, &b) // Считывание двух чисел
		fmt.Printf("Результат: %.2f\n", a+b) // Вывод результата сложения
	case "-":
		fmt.Println("Введите два числа:") // Запрос двух чисел для вычитания
		fmt.Scan(&a, &b) // Считывание двух чисел
		fmt.Printf("Результат: %.2f\n", a-b) // Вывод результата вычитания
	case "*":
		fmt.Println("Введите два числа:") // Запрос двух чисел для умножения
		fmt.Scan(&a, &b) // Считывание двух чисел
		fmt.Printf("Результат: %.2f\n", a*b) // Вывод результата умножения
	case "/":
		fmt.Println("Введите два числа:") // Запрос двух чисел для деления
		fmt.Scan(&a, &b) // Считывание двух чисел
		if b != 0 {
			fmt.Printf("Результат: %.2f\n", a/b) // Вывод результата деления, если делитель не равен нулю
		} else {
			fmt.Println("Деление на ноль невозможно") // Сообщение о невозможности деления на ноль
		}
	case "^":
		fmt.Println("Введите два числа (основание и степень):") // Запрос основания и степени для возведения в степень
		fmt.Scan(&a, &b) // Считывание двух чисел
		fmt.Printf("Результат: %.2f\n", math.Pow(a, b)) // Вывод результата возведения в степень
	case "!":
		var n int // Переменная для хранения числа для вычисления факториала
		fmt.Println("Введите число для вычисления факториала:") // Запрос числа для факториала
		fmt.Scan(&n) // Считывание числа
		if n >= 0 {
			fmt.Printf("Факториал: %d\n", factorial(n)) // Вывод факториала, если число неотрицательное
		} else {
			fmt.Println("Факториал определён только для неотрицательных чисел") // Сообщение о невозможности вычисления факториала для отрицательных чисел
		}
	default:
		fmt.Println("Неверная операция") // Сообщение о неверной операции, если введена неизвестная операция
	}
}
